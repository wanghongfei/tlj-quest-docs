# åˆ†ç±»

ä»»åŠ¡åˆ†ç±»æ˜¯ä»»åŠ¡çš„ç±»å‹ï¼Œæ¯ä¸€ä¸ªä»»åŠ¡éƒ½æœ‰ä¸”ä»…å±äºä¸€ä¸ªåˆ†ç±»ã€‚

## B1 æŸ¥è¯¢åˆ†ç±»åˆ—è¡¨

``` html
GET /api/quest/cate/list
```

å‚æ•°:

| å‚æ•°å  | æ˜¯å¦å¿…å¡« |             è¯´æ˜              | demo |
| :--: | :--: | :-------------------------: | :--: |
|  pn  |  N   | pageNumber, æŸ¥è¯¢ç¬¬pné¡µçš„è®°å½•, é»˜è®¤ä¸º0 |      |
|  ps  |  N   |  pageSize, æ¯é¡µæ˜¾ç¤ºpsæ¡è®°å½•, é»˜è®¤ä¸º8  |      |

è¿”å›æŠ¥æ–‡dataå­—æ®µæ ¼å¼ï¼š

dataå­—æ®µæ˜¯ä¸€ä¸ªåä¸ºâ€listâ€çš„JSONæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å³ä»£è¡¨ä¸€ä¸ªåˆ†ç±»å¯¹è±¡ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªè¿”å›æŠ¥æ–‡dataå­—æ®µç¤ºä¾‹ï¼š

``` json
"data": {
    "list": [
      {
        "id": 1,
        "name": "cate1",
        "memo": null,
        "themeColor": null,
        "level": 1
      },
      {
        "id": 2,
        "name": "cate2",
        "memo": null,
        "themeColor": null,
        "level": null
      }
    ],
    "resultCount": 2
  }
```



|  å‚æ•°å  |     è¯´æ˜     | demo  |
| :---: | :--------: | :---: |
|  id   | åˆ†ç±»çš„å”¯ä¸€æ ‡è¯†ï¼Œæ•´æ•° |   1   |
| name  |    åˆ†ç±»å     | æœ‹å‹åœˆæ¨å¹¿ |
| memo  |     å¤‡æ³¨     |       |
| level | åˆ†ç±»å±‚çº§ï¼Œæš‚æ—¶æ— ç”¨  |       |

## B2 é€šè¿‡idæŸ¥è¯¢åˆ†ç±»

``` 
GET /api/quest/cate/{id}
```

å‚æ•°ï¼š

| å‚æ•°å  |  å¿…å¡«  |   è¯´æ˜   |
| :--: | :--: | :----: |
|  id  |  Y   | åˆ†ç±»çš„idå· |

è¿”å›æŠ¥æ–‡dataå­—æ®µï¼š

dataå­—æ®µä¸­ç›´æ¥æ˜¯åˆ†ç±»JSONå¯¹è±¡, è‹¥ä¸å­˜åœ¨åˆ™ä¸º`data: null`

``` json
"data": {
        "id": 1,
        "name": "cate1",
        "memo": null,
        "themeColor": null,
        "level": 1
  }
```



## B3 é€šè¿‡åˆ†ç±»åæŸ¥è¯¢åˆ†ç±»ä¿¡æ¯

``` 
GET /api/quest/cate/name/{name}
```

å‚æ•°ï¼š

| å‚æ•°å  |  å¿…å¡«  |  è¯´æ˜  |
| :--: | :--: | :--: |
| name |  Y   | åˆ†ç±»å  |

è¿”å›æŠ¥æ–‡dataå­—æ®µï¼š

dataå­—æ®µä¸­ç›´æ¥æ˜¯åˆ†ç±»JSONå¯¹è±¡, è‹¥ä¸å­˜åœ¨åˆ™ä¸º`data: null`

``` json
"data": {
        "id": 1,
        "name": "cate1",
        "memo": null,
        "themeColor": null,
        "level": 1
  }
```



# ä»»åŠ¡

ä»»åŠ¡çš„å‘å¸ƒã€ä¿®æ”¹ã€å®¡æ ¸å’Œé¢†å–ç›¸å…³æ¥å£

## B4 å•†å®¶å‘å¸ƒä»»åŠ¡

``` 
POST /api/user/quest
```

> åªæœ‰ä»¥å•†å®¶ç”¨æˆ·ç™»é™†æ‰èƒ½æˆåŠŸè°ƒç”¨ã€‚

å‚æ•°ï¼š

| å‚æ•°å          | å¿…å¡«   | è¯´æ˜                              |
| ------------ | ---- | ------------------------------- |
| title        | Y    | ä»»åŠ¡æ ‡é¢˜                            |
| questCateId  | Y    | ä»»åŠ¡åˆ†ç±»çš„id                         |
| startTime    | Y    | ä»»åŠ¡å¼€å§‹æ—¶é—´                          |
| endTime      | Y    | ä»»åŠ¡ç»“æŸæ—¶é—´                          |
| totalAmt     | Y    | ä»»åŠ¡æ€»æ•°é‡                           |
| award        | Y    | å•ä¸ªä»»åŠ¡çš„èµé‡‘                         |
| contactName  | Y    | è”ç³»äººå§“å                           |
| contactPhone | Y    | è”ç³»äººæ‰‹æœºå·                          |
| description  | Y    | ä»»åŠ¡ç®€è¿°(100å­—ä»¥å†…)                    |
| questDetail  | Y    | ä»»åŠ¡è¯¦ç»†æè¿°(1000å­—ä»¥å†…)                 |
| url          | N    | ä»»åŠ¡é“¾æ¥                            |
| memo         | N    | ä»»åŠ¡å¤‡æ³¨                            |
| provinceId   | Y    | ä»»åŠ¡å¯¹è±¡ï¼šçœ                          |
| cityId       | Y    | ä»»åŠ¡å¯¹è±¡ï¼šå¸‚                          |
| regionId     | Y    | ä»»åŠ¡å¯¹è±¡ï¼šåŒº                          |
| collegeIds   | Y    | ä»»åŠ¡å¯¹è±¡ï¼šå¤§å­¦. ä»¥`;`åˆ†éš”çš„idå­—ç¬¦ä¸²ï¼Œå¦‚`1;2;3`  |
| schoolIds    | Y    | ä»»åŠ¡å¯¹è±¡ï¼šå­¦é™¢. ä»¥`;`åˆ†éš”çš„idå­—ç¬¦ä¸²ï¼Œå¦‚`2;5;19` |
| couponTitle  | N    | å¡åˆ¸å                             |
| couponDesp   | N    | å¡åˆ¸ä½¿ç”¨è§„åˆ™                          |
| expiredTime  | N    | å¡åˆ¸è¿‡æœŸæ—¶é—´, yyyy-mm-dd              |
| logo         | N    | å¡åˆ¸åº—é“ºlogoåœ¨åˆæ‹çš„è·¯å¾„                  |
| couponAmt    | N    | å¡åˆ¸æ•°é‡                            |

æ¥å£è°ƒç”¨åï¼ŒæœåŠ¡å™¨ä¼šè‡ªåŠ¨è®¡ç®—æ€»ä»»åŠ¡èµé‡‘ï¼Œå¹¶ä»å‘å¸ƒè€…çš„ç°é‡‘è´¦æˆ·ä¸­æ‰£é™¤å¯ç”¨ä½™é¢ã€‚

> æ‰£é™¤çš„é‡‘é¢ = [ (1 + è´¹ç‡) * å•ä¸ªä»»åŠ¡èµé‡‘ ] * ä»»åŠ¡æ•°é‡

ä»`couponTitle`åˆ°`couponAmt`ä¸ºå¡åˆ¸ä¿¡æ¯ï¼Œ**å¦‚æœéœ€è¦å‘å¸ƒå¡åˆ¸åˆ™è¿™äº›å‚æ•°å…¨éƒ¨å¿…å¡«(logoå¯ä»¥ä¸å¡«)**ï¼Œå¦‚æœä¸éœ€è¦å¡åˆ¸åˆ™ä¸éœ€è¦å¡«å†™ã€‚

## B41 å•†å®¶å‘å¸ƒç­”é¢˜ã€é—®å·ä»»åŠ¡

``` 
POST /api/user/quest/question
```

å‚æ•°ï¼š

è¯¥æ¥å£åªæ¥å—`JSON`å­—ç¬¦ä¸²å‚æ•°ï¼Œåœ¨`javascript`ä¸­éœ€è¦å°†`JSON`å¯¹è±¡è½¬æ¢ä¸º`JSON`å­—ç¬¦ä¸²ï¼Œç„¶åæ·»åŠ `Content-Type: application/json; charset=utf-8`è¯·æ±‚å¤´ã€‚

æ ¼å¼å¦‚ä¸‹ï¼š

``` json
{
  	// questionsæ˜¯jsonæ•°ç»„
  	// æ•°ç»„ä¸­æ¯ä¸ªå¯¹è±¡ä»£è¡¨ä¸€ä¸ªé—®é¢˜
    "questions": [
        { // question-1 starts
          	"opts": [{ 						// opts: è¯¥é—®é¢˜å¯¹åº”çš„é€‰æ‹©é¡¹
                "optName": "a", 			// é€‰é¡¹å
                "optContent": "optContent", // é€‰é¡¹å†…å®¹
                "orderIndex": 0, 			// é€‰é¡¹æ’åºå€¼ï¼Œè¶Šå°è¶Šé å‰
                "correct": true 			// è¯¥é€‰é¡¹æ˜¯å¦æ˜¯æ­£ç¡®ç­”æ¡ˆ. å¦‚æœæ˜¯é—®å·ç±»é—®é¢˜ï¼Œå¿½ç•¥è¯¥å±æ€§
            },
            {
                "optName": "b",
                "optContent": "optContent",
                "orderIndex": 1,
                "correct": true
            }],
            "content": "content", 	// é—®é¢˜çš„å†…å®¹
            "orderIndex": 0, 		// é—®é¢˜çš„æ’åºå€¼ï¼Œè¶Šå°è¶Šé å‰
          	"type": 0 				// é—®é¢˜çš„ç±»å‹ã€‚ 0: ç­”é¢˜ 1:é—®å·
        },// question-1 ends
        { // question-2 starts
            "opts": [{
                "optName": "a",
                "optContent": "optContent",
                "orderIndex": 0,
                "correct": true
            },
            {
                "optName": "b",
                "optContent": "optContent",
                "orderIndex": 1,
                "correct": true
            }],
            "content": "content",
            "orderIndex": 1,
            "type": 0
        } // question-2 ends

    ],

  	// ä»»åŠ¡ä¿¡æ¯
    "quest": {
        "title": "testTTTTT",
        "questCateId": 1,
        "startTime": "2015-11-11 10:10:10",
        "endTime": "2016-11-11 10:10:10",
        "totalAmt": 1,
        "award": 0.1,
        "contactName": "whf",
        "contactPhone": "111111",
        "description": "description",
        "questDetail": "detail",
        "provinceId": 1,
        "cityId":1,
        "regionId":1

    },
	
  	// ä»»åŠ¡å¯¹è±¡
    "collegeIds": "1;2;3",
    "schoolIds": "1;2;3"
}
```



## B42 åˆ·æ–°ä»»åŠ¡

åˆ·æ–°ä»»åŠ¡å¯ä»¥ä½¿ä»»åŠ¡æ’åæ›´é å‰ã€‚

éœ€è¦ç™»é™†ã€‚

``` 
PUT /api/user/quest/flush/{id}
```

> `id`ä¸ºè¦åˆ·æ–°çš„ä»»åŠ¡id



## B5 ä»»åŠ¡é¢†å–

åªæœ‰ç™»é™†çŠ¶æ€ä¸‹çš„å­¦ç”Ÿç”¨æˆ·æ‰å¯ä»¥é¢†å–ä»»åŠ¡ã€‚

``` 
POST /api/user/quest/assign/{questId}
```

> questId: è¦é¢†å–çš„ä»»åŠ¡çš„id



## B6 æäº¤ä»»åŠ¡å®Œæˆç”³è¯·

å­¦ç”Ÿç”¨æˆ·å®Œæˆä»»åŠ¡ä»¥åï¼Œåœ¨çº¿æäº¤ç”³è¯·ï¼Œç­‰å¾…ç®¡ç†å‘˜å®¡æ ¸ã€‚

> åªæœ‰å·²ç™»é™†çš„å­¦ç”Ÿç”¨æˆ·æ‰èƒ½å‘èµ·è¯¥è¯·æ±‚ã€‚

``` 
POST /api/user/quest/submit/{questId}
```

> questId: å·²å®Œæˆçš„ä»»åŠ¡çš„id

å‚æ•°ï¼š

| å‚æ•°å         | å¿…å¡«   | è¯´æ˜                      |
| ----------- | ---- | ----------------------- |
| description | Y    | è¯´æ˜æ–‡å­—                    |
| imageIds    | Y    | å›¾ç‰‡è¯´æ˜ã€‚ä»¥;åˆ†éš”çš„å›¾ç‰‡idã€‚ å¦‚ï¼š1;2;3 |
| name        | N    | ç”³è¯·äººå§“å                   |
| memo        | N    | å¤‡æ³¨                      |

## B61 æäº¤é—®å·ç­”æ¡ˆ

è°ƒç”¨åœºæ™¯ï¼šç”¨æˆ·é€‰æ‹©å®Œä¸€ä¸ªé—®é¢˜çš„é€‰é¡¹ç‚¹å‡»æäº¤æ—¶è°ƒç”¨ã€‚

éœ€è¦ç”¨æˆ·ç™»é™†ä¸”é¢†å–å¯¹åº”ä»»åŠ¡ã€‚

``` 
GET /api/user/quest/question/check
```

å‚æ•°ï¼š

| å‚æ•°å        | å¿…å¡«   | è¯´æ˜                          |
| ---------- | ---- | --------------------------- |
| questionId | Y    | è¢«ç­”é—®é¢˜çš„id                     |
| optIds     | Y    | ç”¨æˆ·é€‰æ‹©çš„é€‰é¡¹id, ä»¥`;`åˆ†éš”ã€‚å¦‚ï¼Œ`1;2;3` |

è¿”å›æŠ¥æ–‡ï¼š

``` json
{
  "message": "success",
  "code": 0,
  "data": false, // falseè¡¨ç¤ºç­”æ¡ˆé”™è¯¯, trueè¡¨ç¤ºå›ç­”æ­£ç¡®
  "ok": true
}
```



# ä»»åŠ¡æŸ¥è¯¢

## B7 æŸ¥è¯¢ä»»åŠ¡å‘å¸ƒè®°å½•

éœ€è¦å•†å®¶ç”¨æˆ·ç™»é™†ã€‚

``` 
GET /api/user/quest/publish/list
```

å‚æ•°ï¼š

| å‚æ•°å  | å¿…å¡«   | è¯´æ˜                   |
| ---- | ---- | -------------------- |
| pn   | N    | æ˜¾ç¤ºç¬¬å‡ é¡µ. default = 0   |
| ps   | N    | ä¸€é¡µå¤šå°‘æ¡è®°å½•. default = 8 |

è¿”å›ç¤ºä¾‹ï¼š

``` json
{
  "message": "success",
  "code": 0,
  "data": {
    "list": [
      {
        "id": 1,
        "title": "quest1",
        "createdTime": "2015-09-24 09:17:30", // åˆ›å»ºæ—¶é—´
        "questCateId": 1,	// ä»»åŠ¡åˆ†ç±»id
        "startTime": "2015-10-09 16:00:00", // ä»»åŠ¡å¼€å§‹æ—¶é—´
        "endTime": "2015-12-31 16:00:00", // ä»»åŠ¡ç»“æŸæ—¶é—´	
        "limitTime": 2, // ä»»åŠ¡é¢†å–åå®Œæˆé™åˆ¶æ—¶é—´
        "totalAmt": 10, // ä»»åŠ¡æ€»æ•°é‡
        "leftAmt": 9, // ä»»åŠ¡å‰©ä½™æ•°é‡
        "award": 1, // å•ä¸ªä»»åŠ¡èµé‡‘
        "memberId": 1, // ä»»åŠ¡å‘å¸ƒè€…id
        "finalAward": 1, // è®¡ç®—è´¹ç‡åçš„å•ä¸ªä»»åŠ¡èµé‡‘
        "contactName": "whf", // è”ç³»äººå§“å
        "contactPhone": "11111111111",
        "description": "task", // ä»»åŠ¡ç®€è¿°
        "questDetail": "task", // ä»»åŠ¡è¯¦ç»†
        "url": null, // ä»»åŠ¡é“¾æ¥åœ°å€
        "memo": null,
        "offline": false, // æ˜¯å¦å·²ç»ä¸‹çº¿
        "provinceId": 1, // ä»»åŠ¡å¯¹è±¡ï¼šçœid
        "cityId": 1, // ä»»åŠ¡å¯¹è±¡ï¼šåŸå¸‚id
        "regionId": 1, // ä»»åŠ¡å¯¹è±¡ï¼šåŒºåŸŸid
        "collegeId": null,
        "schoolId": null
      }
    ],
    "resultCount": 1
  },
  "ok": true
}
```

## B71 æŸ¥è¯¢æŒ‡å®šä»»åŠ¡çš„ç­”é¢˜è®°å½•

éœ€è¦ç™»é™†ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªé—®å·ä¸­æœ‰å“ªäº›é¢˜ç›®å·²ç­”ï¼Œå“ªäº›æœªç­”ã€‚

``` 
GET /api/user/quest/question/record
```

å‚æ•°ï¼š

| å‚æ•°å     | å¿…å¡«   | è¯´æ˜               |
| ------- | ---- | ---------------- |
| questId | Y    | ä»»åŠ¡id, å¿…é¡»æ˜¯ç­”é¢˜æˆ–é—®å·ä»»åŠ¡ |

è¿”å›æŠ¥æ–‡ï¼š

``` json
{
  "message": "success",
  "code": 0,
  "data": {
    "list": [
      {
        "id": 1,
        "createdTime": "2015-10-22 13:58:16", // ç­”é¢˜æ—¶é—´
        "questionId": 9, // é—®é¢˜id
        "memberId": 2, // ç­”é¢˜è€…ç”¨æˆ·id
        "questId": 14 // é¢˜ç›®å¯¹åº”çš„ä»»åŠ¡id
      },
      {
        "id": 2,
        "createdTime": "2015-10-23 08:22:25",
        "questionId": 10,
        "memberId": 2,
        "questId": 14
      }
    ],
    "resultCount": 2
  },
  "ok": true
}
```



## B72 æŸ¥è¯¢é—®å·ä¸­æ‰€æœ‰é¢˜ç›®

éœ€è¦ç™»é™†ä¸”å·²ç»é¢†å–è¯¥ä»»åŠ¡ã€‚

``` 
GET /api/user/quest/question
```

å‚æ•°ï¼š

| å‚æ•°å     | å¿…å¡«   | è¯´æ˜   |
| ------- | ---- | ---- |
| questId | Y    | ä»»åŠ¡   |

å¯¹äºè¯·æ±‚

``` 
GET /api/user/quest/question?questId=14
```

è¿”å›æŠ¥æ–‡ï¼š

``` json
{
  "message": "success",
  "code": 0,
  "data": {
    "list": [ // listæ•°ç»„ä¸­æ¯ä¸€ä¸ªå¯¹è±¡è¡¨ç¤ºä¸€é“é¢˜ç›®
      {
        "id": 9, // é¢˜ç›®çš„idå·
        "createdTime": "2015-10-22 10:26:03", // é¢˜ç›®åˆ›å»ºæ—¶é—´
        "content": "content", // é¢˜ç›®å†…å®¹
        "questId": 14, // å½“å‰ä»»åŠ¡id
        "orderIndex": 1, //æ’åºå€¼ ï¼Œè¶Šå°è¶Šé å‰
        "type": 1, // é¢˜ç›®ç±»å‹ã€‚ 0: ç­”é¢˜ 1:é—®å·
        "userAmt": 5, // ç­”è¿‡æ­¤é¢˜çš„äººæ•°
        "correctAmt": 0, // ç­”å¯¹æ­¤é¢˜çš„äººæ•°
        "opts": [ // é¢˜ç›®å¯¹åº”çš„é€‰é¡¹
          {
            "id": 9, // é€‰é¡¹id
            "optName": "a", // é€‰é¡¹å
            "optContent": "optContent", // é€‰é¡¹å†…å®¹ 
            "questionId": 9, // é€‰é¡¹å¯¹åº”çš„é—®é¢˜id
            "answerAmt": 2, // é€‰æ‹©è¿‡æ­¤é€‰é¡¹çš„ç”¨æˆ·äººæ•°
            "orderIndex": 0 // æ’åºå€¼ ï¼Œè¶Šå°è¶Šé å‰
          },
          {
            "id": 10,
            "optName": "b",
            "optContent": "optContent",
            "questionId": 9,
            "answerAmt": 0,
            "orderIndex": 1
          }
        ]
      },
      {
        "id": 10,
        "createdTime": "2015-10-22 10:26:03",
        "content": "content",
        "questId": 14,
        "orderIndex": 1,
        "type": 0,
        "userAmt": 8,
        "correctAmt": 2,
        "opts": [
          {
            "id": 11,
            "optName": "a",
            "optContent": "optContent",
            "questionId": 10,
            "answerAmt": 7,
            "orderIndex": 1
          },
          {
            "id": 12,
            "optName": "b",
            "optContent": "optContent",
            "questionId": 10,
            "answerAmt": 4,
            "orderIndex": 1
          }
        ]
      }
    ],
    "resultCount": 2
  },
  "ok": true
}
```

## B73 æŸ¥è¯¢ç­”é¢˜ç»Ÿè®¡æ•°æ®

éœ€è¦ç™»é™†ï¼Œåªæœ‰é¢˜ç›®çš„å‘å¸ƒè€…æ‰èƒ½è°ƒç”¨ã€‚

``` 
GET /api/user/quest/question/result
```

| å‚æ•°å     | å¿…å¡«   | è¯´æ˜   |
| ------- | ---- | ---- |
| questId | Y    | ä»»åŠ¡   |

è¿”å›æŠ¥æ–‡ï¼š

``` json
{
  "message": "success",
  "code": 0,
  "data": {
    "list": [
      {
        "questionId": 9, // é—®é¢˜id
        "totUser": 5, // å‚ä¸ç­”è¯¥é¢˜çš„æ€»äººæ•°
        "correctUser": 0, // ç­”å¯¹çš„äººæ•°
        "percentage": 0, // æ­£ç¡®ç‡
        "opts": { // é—®é¢˜é€‰é¡¹ç»Ÿè®¡æ•°æ®
          "9": "2", // é€‰æ‹©id = 9é€‰é¡¹çš„äººæ•°
          "10": "0" // é€‰æ‹©id = 10é€‰é¡¹çš„äººæ•°
        }
      },
      {
        "questionId": 10,
        "totUser": 8,
        "correctUser": 2,
        "percentage": 0.25, // æ­£ç¡®ç‡
        "opts": {
          "11": "7",
          "12": "4"
        }
      }
    ],
    "resultCount": 2
  },
  "ok": true
}
```





## B8 æŸ¥è¯¢ä»»åŠ¡é¢†å–è®°å½•

éœ€è¦å­¦ç”Ÿç”¨æˆ·ç™»é™†ã€‚

``` 
GET /api/user/quest/assign/list
```

å‚æ•°ï¼š

| å‚æ•°å    | å¿…å¡«   | è¯´æ˜                 |
| ------ | ---- | ------------------ |
| status | N    | æ ¹æ®ä»»åŠ¡çŠ¶æ€è¿‡è™‘ï¼Œä¸å¡«å†™è¡¨ç¤ºæŸ¥è¯¢æ‰€æœ‰ |
| pn     | N    |                    |
| ps     | N    |                    |

è¿”å›ç¤ºä¾‹ï¼š

``` json
{
  "message": "success",
  "code": 0,
  "data": {
    "list": [
      {
        "id": 1,
        "memberId": 1, // é¢†å–è€…id
        "username": "hanxinxin", // é¢†å–è€…ç”¨æˆ·å
        "questId": 1, // é¢†å–çš„ä»»åŠ¡id
        "questTitle": "quest1", // é¢†å–çš„ä»»åŠ¡æ ‡é¢˜
        "assignTime": "2015-10-09 16:00:00", // é¢†å–æ—¥æœŸ
        "status": "00" // é¢†å–çŠ¶æ€
      }
    ],
    "resultCount": 1
  },
  "ok": true
}
```



## B9 æŸ¥è¯¢ä»»åŠ¡æäº¤è®°å½•

éœ€è¦å­¦ç”Ÿç”¨æˆ·ç™»é™†çŠ¶æ€ã€‚

``` 
GET /api/user/quest/submit/list
```

å‚æ•°ï¼š

| å‚æ•°å  | å¿…å¡«   | è¯´æ˜   |
| ---- | ---- | ---- |
| pn   | N    |      |
| ps   | N    |      |

è¿”å›æŠ¥æ–‡ï¼š

``` json
{
  "message": "success",
  "code": 0,
  "data": {
    "list": [
      {
        "id": 7,
        "questId": 1,
        "memberId": 2, // æäº¤è€…id
        "username": "taolijie", // æäº¤è€…ç”¨æˆ·å
        "createdTime": "2015-10-01 07:21:50", // æäº¤æ—¶é—´
        "auditTime": "2015-10-01 07:22:00", // å®¡æ ¸æ—¶é—´
        "description": "I'm done", // æäº¤ç†ç”±
        "imageIds": "1;2;3;4;5",
        "status": "03",
        "memo": "",
        "name": null // æäº¤è€…å§“å
      }
    ],
    "resultCount": 1
  },
  "ok": true
}
```



## B9.1 æŸ¥è¯¢å·²é¢†å–çš„å¡åˆ¸

åªæœ‰å­¦ç”Ÿæ‰èƒ½è°ƒç”¨ã€‚

``` 
GET /api/user/quest/coupon/list
```

å‚æ•°ï¼š

| å‚æ•°å    | å¿…å¡«   | è¯´æ˜         |
| ------ | ---- | ---------- |
| status | N    | æ˜¯å¦æ ¹æ®å¡åˆ¸çŠ¶æ€è¿‡è™‘ |
| pn     | N    |            |
| ps     | N    |            |

`status`å–å€¼å¦‚ä¸‹ï¼š

| å–å€¼   | è¯´æ˜                   |
| ---- | -------------------- |
| 0    | æœªè¢«é¢†å–(å­¦ç”Ÿè°ƒç”¨è¯¥æ¥å£ä¸ä¼šå‡ºç°æ­¤çŠ¶æ€) |
| 1    | å·²è¢«é¢†å–                 |
| 2    | å·²ä½¿ç”¨                  |

åå›æŠ¥æ–‡ï¼š

``` json
{
  "message": "success",
  "code": 0,
  "data": {
    "list": [
      {
        "id": 1,
        "code": "PdcWjcnYiPELfvnTWvkKJmCScNAYbU", // å¡åˆ¸ç¼–å·
        "createdTime": "2015-10-27 03:07:40", // å•†å®¶åˆ›å»ºå¡åˆ¸çš„æ—¥æœŸ
        "acquireTime": "2015-10-27 07:57:26", // é¢†å–æ—¥æœŸ
        "empId": 1, // å‘å¡å•†å®¶ç”¨æˆ·id
        "memId": 2, // é¢†å–è€…ç”¨æˆ·id
        "questTitle": "title", // å¡æ ‡é¢˜
        "questId": 27, // å¡å¯¹åº”çš„ä»»åŠ¡
        "compName": null, // å•†å®¶åº—é“ºå
        "title": "coupon", // å¡åˆ¸æ ‡é¢˜
        "description": "desp", // å¡åˆ¸ä½¿ç”¨è¯´æ˜
        "expiredTime": "2019-12-31 16:00:00", // è¿‡æœŸæ—¶é—´
        "logoPath": "logo.jpg", // logoå›¾ç‰‡çš„URLåœ°å€(å¯ä»¥ä¸ºç©º)
        "status": 1 // å¡åˆ¸çŠ¶æ€å€¼ 
      },
      {
        "id": 2,
        "code": "mghBLXpEATOrQrlglIOwwfobypEajZ",
        "createdTime": "2015-10-27 03:07:40",
        "acquireTime": "2015-10-27 07:57:26",
        "empId": 1,
        "memId": 2,
        "questTitle": "title",
        "questId": 27,
        "compName": null,
        "title": "coupon",
        "description": "desp",
        "expiredTime": "2019-12-31 16:00:00",
        "logoPath": "logo",
        "status": 2
      }
    ],
    "resultCount": 2
  },
  "ok": true
}
```



## B9.2 å•†å®¶éªŒè¯å¡åˆ¸

åªæœ‰å•†å®¶ç”¨æˆ·å¯è°ƒç”¨ã€‚

å•†å®¶é€šè¿‡æ‰‹æœºæ‰«æå®¢æˆ·å‡ºç¤ºçš„äºŒç»´ç ï¼Œè¯†åˆ«å‡º`code`å€¼ï¼Œç„¶åè°ƒç”¨è¯¥æ¥å£ã€‚

``` 
GET /api/user/quest/coupon/check
```

å‚æ•°ï¼š

| å‚æ•°å  | å¿…å¡«   | è¯´æ˜   |
| ---- | ---- | ---- |
| code | Y    | å¡åˆ¸ç¼–å· |





## B10 æŸ¥è¯¢æŒ‡å®šä»»åŠ¡çš„æäº¤è®°å½•

åªæœ‰å•†å®¶å’ŒADMINå¯ä»¥è°ƒç”¨ã€‚

``` 
GET /api/user/quest/submit/{questId}/list
```

| å‚æ•°å     | å¿…å¡«   | è¯´æ˜         |
| ------- | ---- | ---------- |
| questId | Y    | ä»»åŠ¡id       |
| status  | N    | æ ¹æ®ä»»åŠ¡çŠ¶æ€ç­›é€‰ç»“æœ |
| pn      | N    |            |
| ps      | N    |            |

`status`å–å€¼å¦‚ä¸‹ï¼š

| å–å€¼   | å«æ„       |
| ---- | -------- |
| 01   | å¾…å®¡æ ¸      |
| 02   | å•†å®¶å®¡æ ¸æœªé€šè¿‡  |
| 03   | æ¡ƒæè¡—å®¡æ ¸æœªé€šè¿‡ |
| 04   | è‡ªåŠ¨é€šè¿‡     |
| 05   | å•†å®¶å®¡æ ¸é€šè¿‡   |
| 06   | æ¡ƒæè¡—å®¡æ ¸é€šè¿‡  |

è¿”å›æŠ¥æ–‡:

``` JSON
{
  "message": "success",
  "code": 0,
  "data": {
    "list": [
      {
        "id": 7,
        "questId": 1,
        "memberId": 2, // ä»»åŠ¡æäº¤ç”¨æˆ·çš„id
        "username": "taolijie", // ä»»åŠ¡æäº¤ç”¨æˆ·çš„ç”¨æˆ·å
        "createdTime": "2015-10-01 07:21:50", // æäº¤æ—¶é—´
        "auditTime": "2015-10-01 07:22:00", // å®¡æ ¸æ—¶é—´
        "description": "I'm done",
        "imageIds": "1;2;3;4;5",
        "status": "03",
        "memo": "",
        "name": null
      }
    ],
    "resultCount": 1
  },
  "ok": true
}
```





## B11 æ¡ä»¶æŸ¥è¯¢

ä»»ä½•äººéƒ½å¯ä»¥è°ƒç”¨è¯¥æ¥å£.

éç®¡ç†å‘˜è°ƒç”¨è¯¥æ¥å£ï¼Œåªè¿”å›`empStatus == 3`(å·²å®¡æ ¸é€šè¿‡)çš„ä»»åŠ¡ï¼Œå¦‚æœæ˜¯ç®¡ç†å‘˜è°ƒç”¨ï¼Œåˆ™å¯ä»¥æŒ‡å®š`empStatus`ç±»å‹ã€‚

``` 
GET /api/quest/list
```

å‚æ•°ï¼š

| å‚æ•°å        | å¿…å¡«   | è¯´æ˜                                    |
| ---------- | ---- | ------------------------------------- |
| cateId     | N    | å¡«å†™è¡¨ç¤ºæ ¹æ®åˆ†ç±»è¿‡è™‘ç»“æœ                          |
| min        | N    | ä»»åŠ¡çš„æœ€ä½èµé‡‘(include)                      |
| max        | N    | ä»»åŠ¡çš„æœ€é«˜èµé‡‘(include)                      |
| pn         | N    |                                       |
| ps         | N    |                                       |
| regionId   | N    | åŒºåŸŸid                                  |
| schoolId   | N    | å­¦æ ¡id                                  |
| *empStatus | N    | **åªæœ‰ç®¡ç†å‘˜å¯ä»¥ä½¿ç”¨è¯¥å‚æ•°**ã€‚å¡«å†™è¡¨ç¤ºæ ¹æ®empStatuså€¼ç­›é€‰ç»“æœ |

> åªå¡«å†™`min`ä¸å¡«`max`è¡¨ç¤ºæŸ¥è¯¢èµé‡‘`>= min`çš„ä»»åŠ¡ã€‚
> 
> åªå¡«å†™`max`ä¸å¡«`min`è¡¨ç¤ºæŸ¥è¯¢èµé‡‘`<= max`çš„ä»»åŠ¡ã€‚
> 
> åŒæ—¶å¡«å†™è¡¨ç¤ºæŸ¥è¯¢èµé‡‘åœ¨`min`ä¸`max`ä¹‹é—´çš„ä»»åŠ¡ã€‚

`empStatus`å–å€¼ ï¼š

| å–å€¼   | å«æ„        |
| ---- | --------- |
| 0    | æœªå‘å¸ƒ(è‰ç¨¿çŠ¶æ€) |
| 1    | å®¡æ ¸ä¸­       |
| 2    | å®¡æ ¸ä¸é€šè¿‡     |
| 3    | å®¡æ ¸é€šè¿‡      |

è¿”å›æŠ¥æ–‡ï¼š

``` json
{
  "message": "success",
  "code": 0,
  "data": {
    "list": [
      {
        "id": 5,
        "title": "newQuest", // ä»»åŠ¡æ ‡é¢˜
        "createdTime": "2015-09-29 09:53:00", // ä»»åŠ¡åˆ›å»ºæ—¶é—´
        "questCateId": 1, // ä»»åŠ¡åˆ†ç±»id
        "startTime": "2015-10-09 16:00:00", // ä»»åŠ¡å¼€å§‹æ—¶é—´
        "endTime": "2015-10-15 16:00:00", // ä»»åŠ¡ç»“æŸæ—¶é—´
        "limitTime": 2, // ä»»åŠ¡å®Œæˆé™åˆ¶æ—¶é—´
        "totalAmt": 1, // ä»»åŠ¡æ€»æ•°
        "leftAmt": 1, // ä»»åŠ¡å‰©ä½™æ•°é‡
        "award": 0.1, // å•ä¸ªä»»åŠ¡èµé‡‘
        "memberId": 1, // å‘å¸ƒè€…id
        "finalAward": 0.1, // è®¡ç®—è´¹ç‡åçš„å•ä¸ªä»»åŠ¡èµé‡‘
        "contactName": "whf",
        "contactPhone": "1111111",
        "description": "des",
        "questDetail": "detail",
        "url": null,
        "memo": null,
        "offline": false,
        "provinceId": 1,
        "cityId": 1,
        "regionId": 1,
        "collegeId": null,
        "schoolId": null,
        "status": null
      }

    ],
    "resultCount": 1
  },
  "ok": true
}
```





## B12 æ ¹æ®idæŸ¥è¯¢ä»»åŠ¡

ä¸éœ€è¦ç™»é™†ã€‚

``` 
GET /api/quest/{questId}
```

> questId: ä»»åŠ¡id

è¿”å›æŠ¥æ–‡çš„`data`å­—æ®µä¸­æœ‰ä¸€ä¸ª`status`å‚æ•°ï¼Œè¯¥å‚æ•°çš„å–å€¼å’Œå«æ„å¦‚ä¸‹ï¼š

| å–å€¼   | æ„ä¹‰   |
| ---- | ---- |
| 0    | æœªé¢†å–  |
| 1    | å·²é¢†å–  |
| 2    | å·²ç»“æŸ  |
| 3    | å·²å®Œæˆ  |

# Taolijieä»£å®¡æ ¸

## B13 è®¡ç®—æ¡ƒæè¡—ä»£å®¡æ ¸è´¹ç”¨

å•†å®¶å¯ä»¥ç”³è¯·æ¡ƒæè¡—ä»£å®¡æ ¸ä»»åŠ¡å®Œæˆç”³è¯·ã€‚

``` 
GET /api/user/quest/audit/fee
```

å‚æ•°ï¼š

| å‚æ•°å  | å¿…å¡«   | è¯´æ˜       |
| ---- | ---- | -------- |
| amt  | Y    | ä»£å®¡æ ¸çš„ä»»åŠ¡æ•°é‡ |

å¦‚ï¼Œå¯¹äºè¯·æ±‚

``` 
GET /api/user/quest/audit/fee?amt=56&appToken=XXXXX
```

è¿”å›ç»“æœä¸ºï¼š

``` json
{
  "message": "success",
  "code": 0,
  "data": 56, // éœ€è¦56å…ƒ
  "ok": true
}
```



## B14 ç”³è¯·Taolijieä»£å®¡æ ¸ä»»åŠ¡

å•†å®¶å¯ä»¥ç”³è¯·æ¡ƒæè¡—ä»£å®¡æ ¸ä»»åŠ¡å®Œæˆç”³è¯·ã€‚

``` 
POST /api/user/quest/audit
```

å‚æ•°ï¼š

| å‚æ•°å     | å¿…å¡«   | è¯´æ˜       |
| ------- | ---- | -------- |
| questId | Y    | è¦ç”³è¯·çš„ä»»åŠ¡id |
| amt     | Y    | ä»£å®¡æ ¸çš„æ•°é‡   |

> æ³¨: åŒä¸€ä¸ªä»»åŠ¡åªèƒ½ç”³è¯·ä¸€æ¬¡ï¼Œé‡å¤ç”³è¯·ä¼šå¤±è´¥ã€‚



## B15 æŸ¥è¯¢ä»£å®¡æ ¸æ˜ç»†

å•†å®¶å¯ä»¥æŸ¥è¯¢è‡ªå·±ç”³è¯·è¿‡çš„ä»£å®¡æ ¸çŠ¶æ€ã€‚

åªæœ‰å•†å®¶æ‰èƒ½è°ƒç”¨è¯¥æ¥å£ã€‚

``` 
GET /api/user/quest/audit/list
```

å‚æ•°ï¼š

| å‚æ•°å     | å¿…å¡«   | è¯´æ˜        |
| ------- | ---- | --------- |
| questId | N    | ä»£å®¡æ ¸çš„ä»»åŠ¡çš„id |
| pn      | N    |           |
| ps      | N    |           |

è¿”å›æŠ¥æ–‡ï¼š

``` JSON
{
  "message": "success",
  "code": 0,
  "data": {
    "list": [
      {
        "id": 2,
        "questId": 1, // ä»£å®¡æ ¸çš„ä»»åŠ¡is
        "questTitle": "quest1", // ä»£å®¡æ ¸çš„ä»»åŠ¡çš„æ ‡é¢˜
        "totAmt": 5, // ä»£å®¡æ ¸æ€»æ•°é‡
        "leftAmt": 5, // ä»£å®¡æ ¸å‰©ä½™æ•°é‡
        "empId": 1, // ç”³è¯·è€…ç”¨æˆ·id
        "empUsername": "hanxinxin", // ç”³è¯·è€…ç”¨æˆ·å
        "createdTime": "2015-10-15 16:00:00" // ç”³è¯·æ—¶é—´
      }
    ],
    "resultCount": 1
  },
  "ok": true
}
```





# æ”¶è—

## B16 æ”¶è—ä»»åŠ¡

``` 
POST /api/user/co
```

å‚æ•°ï¼š

| å‚æ•°å     | å¿…å¡«   | è¯´æ˜   |
| ------- | ---- | ---- |
| questId | Y    | ä»»åŠ¡   |

## B17 å–æ¶ˆæ”¶è—ä»»åŠ¡

``` 
DELETE /api/user/co/quest/{questId}
```

> questId: ä»»åŠ¡id



## B18 æŸ¥è¯¢æ”¶è—åˆ—è¡¨

``` 
GET /api/user/co/list
```

å‚æ•°ï¼š

| å‚æ•°å  | å¿…å¡«   | è¯´æ˜   |
| ---- | ---- | ---- |
| pn   | N    |      |
| ps   | N    |      |

è¿”å›æŠ¥æ–‡ï¼š

``` json
{
  "message": "success",
  "code": 0,
  "data": {
    "list": [
      {
        "id": 1,
        "createdTime": "2015-05-09 16:00:00", // æ”¶è—æ—¶é—´
        "memberId": 1, // æ”¶è—è€…ç”¨æˆ·id
        "questId": 1, // æ”¶è—çš„ä»»åŠ¡id
        "questTitle": "quset1" // æ”¶è—çš„ä»»åŠ¡æ ‡é¢˜
      }
    ],
    "resultCount": 1
  },
  "ok": true
}
```





## B19 æŸ¥è¯¢ä»»åŠ¡æ˜¯å¦å·²ç»æ”¶è—

``` 
GET /api/user/co/check
```

å‚æ•°ï¼š

| å‚æ•°å     | å¿…å¡«   | è¯´æ˜   |
| ------- | ---- | ---- |
| questId | Y    | ä»»åŠ¡id |

è¿”å›æŠ¥æ–‡ï¼š

``` json
{
  "message": "success",
  "code": 0,
  "data": true, // è¡¨ç¤ºå·²ç»æ”¶è—
  "ok": true
}
```